var CodeMirror = function () {
    function w(a, b) {
        var e, d, f, n, p, k, q, N; function mb(c) { P = null; var g = { line: 0, ch: 0 }; L(g, { line: i.length - 1, ch: i[i.length - 1].text.length }, da(c), g, g); P = new Ta; Q = true } function la() { if (o.readOnly != "nocursor") { if (!T) { if (o.onFocus) o.onFocus(G); T = true; M.className.search(/\bCodeMirror-focused\b/) == -1 && (M.className += " CodeMirror-focused"); ua || ka() } O(); nb() } } function K() {
            if (T) { if (o.onBlur) o.onBlur(G); T = false; M.className = M.className.replace(" CodeMirror-focused", "") } clearInterval(Ua); setTimeout(function () {
                T ||
(W = null)
            }, 150)
        } function L(c, g, m, a, b) { if (P) { for (var t = [], h = c.line, j = g.line + 1; h < j; ++h) t.push(i[h].text); for (P.addChange(c.line, m.length, t); P.done.length > o.undoDepth; ) P.done.shift() } ob(c, g, m, a, b) } function pb(c, g) {
            var m = c.pop(); if (m) {
                for (var a = [], b = m.start + m.added, t = m.start; t < b; ++t) a.push(i[t].text); g.push({ start: m.start, added: m.old.length, old: a }); t = m.start + m.old.length - 1; var a = a[a.length - 1], h = m.old[m.old.length - 1]; if (h) if (a) {
                    for (var j = a.length, r = h.length; j >= 0 && r >= 0; --j, --r) if (a.charAt(j) != h.charAt(r)) break;
                    a = r + 1
                } else a = h.length; else a = a ? a.length : 0; t = x({ line: t, ch: a }); ob({ line: m.start, ch: 0 }, { line: b - 1, ch: i[b - 1].text.length }, m.old, t, t); Q = true
            } 
        } function H() { pb(P.done, P.undone) } function qb() { pb(P.undone, P.done) } function ob(c, g, m, a, b) {
            for (var t = false, h = va.length, j = c.line; j <= g.line; ++j) if (i[j].text.length == h) { t = true; break } var r = g.line - c.line, j = i[c.line], l = i[g.line]; if (j == l) if (m.length == 1) j.replace(c.ch, g.ch, m[0]); else {
                var l = j.split(g.ch, m[m.length - 1]), d = [c.line + 1, r]; j.replace(c.ch, j.text.length, m[0]); for (var j =
1, e = m.length - 1; j < e; ++j) d.push(new wa(m[j])); d.push(l); i.splice.apply(i, d)
            } else if (m.length == 1) j.replace(c.ch, j.text.length, m[0] + l.text.slice(g.ch)), i.splice(c.line + 1, r); else { d = [c.line + 1, r - 1]; j.replace(c.ch, j.text.length, m[0]); l.replace(0, g.ch, m[m.length - 1]); j = 1; for (e = m.length - 1; j < e; ++j) d.push(new wa(m[j])); i.splice.apply(i, d) } j = c.line; for (e = j + m.length; j < e; ++j) if (l = i[j].text, l.length > h) va = l, h = l.length, ma = null, t = false; if (t) {
                h = 0; va = ""; ma = null; j = 0; for (e = i.length; j < e; ++j) if (l = i[j].text, l.length > h) h = l.length,
va = l
            } t = []; r = m.length - r - 1; j = 0; for (l = X.length; j < l; ++j) h = X[j], h < c.line ? t.push(h) : h > g.line && t.push(h + r); if (m.length < 5) { l = c.line; j = c.line + m.length; for (h = Ca(l); l < j; ++l) d = i[l], d.highlight(C, h), d.stateAfter = na(C, h); t.push(c.line + m.length) } else t.push(c.line); X = t; Va(100); I.push({ from: c.line, to: g.line + 1, diff: r }); Wa = { from: c, to: g, text: m }; oa(a, b, k.line <= Math.min(g.line, g.line + r) ? k.line : k.line + r, q.line <= Math.min(g.line, g.line + r) ? q.line : q.line + r); S.style.height = i.length * U() + 2 * D.offsetTop + "px"
        } function Y(c, g, m) {
            function a(R) {
                if (J(R,
g)) return R; if (!J(m, R)) return b; var h = R.line + c.length - (m.line - g.line) - 1, j = R.ch; R.line == m.line && (j += c[c.length - 1].length - (m.ch - (m.line == g.line ? g.ch : 0))); return { line: h, ch: j}
            } var g = x(g), m = m ? x(m) : g, c = da(c), b; rb(c, g, m, function (c) { b = c; return { from: a(k), to: a(q)} }); return b
        } function Da(c, g) { rb(da(c), k, q, function (c) { return g == "end" ? { from: c, to: c} : g == "start" ? { from: k, to: k} : { from: k, to: c} }) } function rb(c, g, m, a) { a = a({ line: g.line + c.length - 1, ch: c.length == 1 ? c[0].length + g.ch : c[c.length - 1].length }); L(g, m, c, a.from, a.to) }
        function ja(c, g) { var m = c.line, a = g.line; if (m == a) return i[m].text.slice(c.ch, g.ch); var b = [i[m].text.slice(c.ch)]; for (m += 1; m < a; ++m) b.push(i[m].text); b.push(i[a].text.slice(0, g.ch)); return b.join("\n") } function ca() { return ja(k, q) } function O() { Xa || Ya.set(2E3, function () { Za(); ta(); T && O(); $a() }) } function pa(c) { function g() { Za(); var b = ta(); b && c && (b == "moved" && qa[c] == null && (qa[c] = true), b == "changed" && (qa[c] = false)); !b && !a ? (a = true, Ya.set(80, g)) : (Xa = false, O()); $a() } var a = false; Xa = true; Ya.set(20, g) } function ta() {
            function c(c,
g) { for (var b = 0; ; ) { var R = a.indexOf("\n", b); if (R == -1 || (a.charAt(R - 1) == "\r" ? R - 1 : R) >= c) return { line: g, ch: c - b }; ++g; b = R + 1 } } if (!ua && T) {
                var g = false, a = y.value, b = Ea(y); if (!b) return false; var g = e != a, s = ea, t = g || b.start != d || b.end != (s ? d : f); if (!t && !s) return false; if (g && (W = ea = null, o.readOnly)) return Q = true, "changed"; var h = c(b.start, n), j = c(b.end, n); if (s) { var r = b.start == s.anchor ? j : h, j = W ? q : b.start == s.anchor ? h : j; (N = J(r, j)) ? h = r : (ea = null, h = j, j = r) } h.line == j.line && h.line == k.line && h.line == q.line && !W && (Q = false); if (g) {
                    for (var r =
0, s = a.length, l = Math.min(s, e.length), i, v = n, u = -1; r < l && (i = a.charAt(r)) == e.charAt(r); ) ++r, i == "\n" && (v++, u = r); for (var l = u > -1 ? r - u : r, w = p - 1, x = e.length; ; ) { i = e.charAt(x); if (a.charAt(s) != i) { ++s; ++x; break } i == "\n" && w--; if (x <= r || s <= r) break; --s; --x } u = e.lastIndexOf("\n", x - 1); L({ line: v, ch: l }, { line: w, ch: u == -1 ? x : x - u - 1 }, da(a.slice(r, s)), h, j); if (v != w || h.line != v) Q = true
                } else oa(h, j); e = a; d = b.start; f = b.end; return g ? "changed" : t ? "moved" : false
            } 
        } function ka() {
            for (var c = [], g = Math.max(0, k.line - 1), a = Math.min(i.length, q.line + 2),
b = g; b < a; ++b) c.push(i[b].text); for (var c = y.value = c.join(Fa), s = k.ch, t = q.ch, b = g; b < k.line; ++b) s += Fa.length + i[b].text.length; for (b = g; b < q.line; ++b) t += Fa.length + i[b].text.length; e = c; n = g; p = a; d = s; f = t; xa(y, s, ea ? s : t)
        } function Ga() { o.readOnly != "nocursor" && y.focus() } function kb() { if (Z.getBoundingClientRect) { var c = Z.getBoundingClientRect(), g = window.innerHeight || document.body.offsetHeight || document.documentElement.offsetHeight; (c.top < 0 || c.bottom > g) && Z.scrollIntoView() } } function sb() {
            var c = ab(N ? k : q); return tb(c.x,
c.y, c.x, c.yBot)
        } function tb(c, g, a, b) { var s = D.offsetLeft, t = D.offsetTop, h = U(); g += t; b += t; c += s; a += s; var j = v.clientHeight, r = v.scrollTop, s = false, t = true; if (g < r) v.scrollTop = Math.max(0, g - 2 * h), s = true; else if (b > r + j) v.scrollTop = b + h - j, s = true; g = v.clientWidth; b = v.scrollLeft; h = o.fixedGutter ? V.clientWidth : 0; if (c < b + h) c < 50 && (c = 0), v.scrollLeft = Math.max(0, c - 10 - h), s = true; else if (a > g + b) v.scrollLeft = a + 10 - g, s = true, a > S.clientWidth && (t = false); if (s && o.onScroll) o.onScroll(G); return t } function ub() {
            var c = U(), g = v.scrollTop - D.offsetTop;
            return { from: Math.min(i.length, Math.max(0, Math.floor(g / c))), to: Math.min(i.length, Math.ceil((g + v.clientHeight) / c))}
        } function Ha(c) {
            if (v.clientWidth) {
                for (var g = c === true ? [] : [{ from: E, to: aa, domStart: 0}], a = 0, b = c.length || 0; a < b; ++a) {
                    for (var s = c[a], t = [], h = s.diff || 0, j = 0, r = g.length; j < r; ++j) {
                        var l = g[j]; s.to <= l.from ? t.push({ from: l.from + h, to: l.to + h, domStart: l.domStart }) : l.to <= s.from ? t.push(l) : (s.from > l.from && t.push({ from: l.from, to: s.from, domStart: l.domStart }), s.to < l.to && t.push({ from: s.to + h, to: l.to + h, domStart: l.domStart +
(s.to - l.from)
                        }))
                    } g = t
                } for (var h = ub(), c = Math.min(E, Math.max(h.from - 3, 0)), s = Math.min(i.length, Math.max(aa, h.to + 3)), t = [], j = 0, r = aa - E, d = c, e = 0, a = 0, b = g.length; a < b; ++a) if (l = g[a], !(l.to <= c)) { if (l.from >= s) break; if (l.domStart > j || l.from > d) t.push({ from: d, to: l.from, domSize: l.domStart - j, domStart: j }), e += l.from - d; d = l.to; j = l.domStart + (l.to - l.from) } if (j != r || d != s) e += Math.abs(s - d), t.push({ from: d, to: s, domSize: r - j, domStart: j }), s - d != r - j && (fa = true); if (t.length) {
                    F.style.display = "none"; if (e > (h.to - h.from) * 0.3) {
                        l = c = Math.max(h.from -
10, 0); g = s = Math.min(h.to + 7, i.length); a = []; b = { line: l, ch: 0 }; for (b = J(k, b) && !J(q, b); l < g; ++l) { j = h = null; if (b) { if (h = 0, q.line == l) b = false, j = q.ch } else if (k.line == l) q.line == l ? (h = k.ch, j = q.ch) : (b = true, h = k.ch); a.push(i[l].getHTML(h, j, true)) } F.innerHTML = a.join("")
                    } else {
                        g = k.line; a = q.line; b = 0; l = bb && ga.createElement("div"); h = 0; for (j = t.length; h < j; ++h) {
                            r = t[h]; d = r.to - r.from - r.domSize; e = F.childNodes[r.domStart + r.domSize + b] || null; if (bb) for (var f = Math.max(-d, r.domSize); f > 0; --f) F.removeChild(e ? e.previousSibling : F.lastChild);
                            else if (d) { for (f = Math.max(0, d); f > 0; --f) F.insertBefore(ga.createElement("pre"), e); for (f = Math.max(0, -d); f > 0; --f) F.removeChild(e ? e.previousSibling : F.lastChild) } for (var o = F.childNodes[r.domStart + b], p = g < r.from && a >= r.from, f = r.from; f < r.to; ++f) { var n = null, u = null; if (p) { if (n = 0, a == f) p = false, u = q.ch } else if (g == f) a == f ? (n = k.ch, u = q.ch) : (p = true, n = k.ch); bb ? (l.innerHTML = i[f].getHTML(n, u, true), F.insertBefore(l.firstChild, e)) : (o.innerHTML = i[f].getHTML(n, u, false), o.className = i[f].className || "", o = o.nextSibling) } b += d
                        } 
                    } F.style.display =
""; g = c != E || s != aa || vb != v.clientHeight; E = c; aa = s; Ia.style.top = c * U() + "px"; if (g) vb = v.clientHeight, S.style.height = i.length * U() + 2 * D.offsetTop + "px"; (g || fa) && wb(); ma == null && (ma = xb(va)); ma > v.clientWidth ? (D.style.width = ma + "px", S.style.width = "", S.style.width = v.scrollWidth + "px") : D.style.width = S.style.width = ""; if (F.childNodes.length != aa - E) throw Error("BAD PATCH! " + JSON.stringify(t) + " size=" + (aa - E) + " nodes=" + F.childNodes.length); yb()
                } 
            } else E = aa = 0
        } function wb() {
            if (o.gutter || o.lineNumbers) {
                var c = Ia.offsetHeight, g =
v.clientHeight; V.style.height = (c - g < 2 ? g : c) + "px"; c = []; for (g = E; g < Math.max(aa, E + 1); ++g) { var a = i[g].gutterMarker, b = o.lineNumbers ? g + o.firstLineNumber : null; a && a.text ? b = a.text.replace("%N%", b != null ? b : "") : b == null && (b = "\u00a0"); c.push(a && a.style ? '<pre class="' + a.style + '">' : "<pre>", b, "</pre>") } V.style.display = "none"; Ja.innerHTML = c.join(""); c = String(i.length).length; g = Ja.firstChild; a = g.textContent || g.innerText || g.nodeValue || ""; for (b = ""; a.length + b.length < c; ) b += "\u00a0"; b && g.insertBefore(ga.createTextNode(b), g.firstChild);
                V.style.display = ""; D.style.marginLeft = V.offsetWidth + "px"; fa = false
            } 
        } function yb() { var c = N ? k : q, a = U(), b = zb(c.line, c.ch); ya.style.top = Math.max(Math.min(c.line * a - v.scrollTop, v.offsetHeight), 0) + "px"; ya.style.left = b - v.scrollLeft + "px"; A(k, q) ? (Z.style.top = (c.line - E) * a + "px", Z.style.left = b + "px", Z.style.display = "") : Z.style.display = "none" } function ra(c, a) { var b = W && x(W); b && (J(b, c) ? c = b : J(a, b) && (a = b)); oa(c, a) } function oa(c, a, b, d) {
            if (!A(k, c) || !A(q, a)) {
                if (J(a, c)) var s = a, a = c, c = s; A(c, a) ? N = false : A(c, q) ? N = false : A(a, k) &&
(N = true); if (b == null) b = k.line, d = q.line; A(c, a) ? A(k, q) || I.push({ from: b, to: d + 1 }) : A(k, q) ? I.push({ from: c.line, to: a.line + 1 }) : (A(c, k) || (c.line < b ? I.push({ from: c.line, to: Math.min(a.line, b) + 1 }) : I.push({ from: b, to: Math.min(d, c.line) + 1 })), A(a, q) || (a.line < d ? I.push({ from: Math.max(b, c.line), to: d + 1 }) : I.push({ from: Math.max(c.line, d), to: a.line + 1 }))); k = c; q = a; ba = true
            } 
        } function ha(c, a, b) { c = x({ line: c, ch: a || 0 }); (b ? ra : oa)(c, c) } function ia(c) { return Math.max(0, Math.min(c, i.length - 1)) } function x(c) {
            if (c.line < 0) return { line: 0,
                ch: 0
            }; if (c.line >= i.length) return { line: i.length - 1, ch: i[i.length - 1].text.length }; var a = c.ch, b = i[c.line].text.length; return a == null || a > b ? { line: c.line, ch: b} : a < 0 ? { line: c.line, ch: 0} : c
        } function lb(c) { for (var a = i[c.line].text, b = c.ch, d = c.ch; b > 0 && /\w/.test(a.charAt(b - 1)); ) --b; for (; d < a.length && /\w/.test(a.charAt(d)); ) ++d; ra({ line: c.line, ch: b }, { line: c.line, ch: d }) } function Lb(c) { ra({ line: c, ch: 0 }, { line: c, ch: i[c].text.length }) } function Mb(c) {
            function a(c) {
                if (A(k, q)) return sa(k.line, c); for (var b = q.line - (q.ch ? 0 : 1),
g = k.line; g <= b; ++g) sa(g, c)
            } W = null; switch (o.tabMode) { case "default": return false; case "indent": a("smart"); break; case "classic": if (A(k, q)) { c ? sa(k.line, "smart") : Da("\t", "end"); break } case "shift": a(c ? "subtract" : "add") } return true
        } function sa(c, a) {
            if (a == "smart") if (C.indent) var b = Ca(c); else a = "prev"; var d = i[c], s = d.indentation(), e = d.text.match(/^\s*/)[0], h; a == "prev" ? h = c ? i[c - 1].indentation() : 0 : a == "smart" ? h = C.indent(b, d.text.slice(e.length)) : a == "add" ? h = s + o.indentUnit : a == "subtract" && (h = s - o.indentUnit); h = Math.max(0,
h); if (h - s) { s = ""; b = 0; if (o.indentWithTabs) for (d = Math.floor(h / Ka); d; --d) b += Ka, s += "\t"; for (; b < h; ) ++b, s += " " } else { if (k.line != c && q.line != c) return; s = e } Y(s, { line: c, ch: 0 }, { line: c, ch: e.length })
        } function Ab() { C = w.getMode(o, o.mode); for (var c = 0, a = i.length; c < a; ++c) i[c].stateAfter = null; X = [0]; Va() } function Nb() { var c = o.gutter || o.lineNumbers; V.style.display = c ? "" : "none"; c ? fa = true : F.parentNode.style.marginLeft = 0 } function cb(c, a, b) {
            function d(c, a, b, g) { c = i[c]; a = c.addMark(a, b, g); a.line = c; e.push(a) } var c = x(c), a = x(a), e =
[]; if (c.line == a.line) d(c.line, c.ch, a.ch, b); else { d(c.line, c.ch, null, b); for (var t = c.line + 1, h = a.line; t < h; ++t) d(t, 0, null, b); d(a.line, 0, a.ch, b) } I.push({ from: c.line, to: a.line + 1 }); return function () { for (var c, a, b = 0; b < e.length; ++b) { var g = e[b], m = La(i, g.line); g.line.removeMark(g); m > -1 && (c == null && (c = m), a = m) } c != null && I.push({ from: c, to: a + 1 }) } 
        } function xb(c) { $.innerHTML = "<pre><span>x</span></pre>"; $.firstChild.firstChild.firstChild.nodeValue = c; return $.firstChild.firstChild.offsetWidth || 10 } function zb(c, a) {
            if (a ==
0) return 0; $.innerHTML = "<pre><span>" + i[c].getHTML(null, null, false, a) + "</span></pre>"; return $.firstChild.firstChild.offsetWidth
        } function Bb(c, a) {
            function b(c) { $.innerHTML = "<pre><span>" + d.getHTML(null, null, false, c) + "</span></pre>"; return $.firstChild.firstChild.offsetWidth } if (a <= 0) return 0; for (var d = i[c], e = 0, t = 0, h = d.text.length, j, f = Math.min(h, Math.ceil(a / xb("x"))); ; ) { var l = b(f); if (l <= a && f < h) f = Math.min(h, Math.ceil(f * 1.2)); else { j = l; h = f; break } } if (a > j) return h; f = Math.floor(h * 0.8); l = b(f); l < a && (e = f, t = l);
            for (; ; ) { if (h - e <= 1) return j - a > a - t ? e : h; f = Math.ceil((e + h) / 2); l = b(f); l > a ? (h = f, j = l) : (e = f, t = l) } 
        } function ab(c, a) { var b = U(), d = c.line - (a ? E : 0); return { x: zb(c.line, c.ch), y: d * b, yBot: (d + 1) * b} } function Cb(c) { var c = ab(c, true), a = Ma(D); return { x: a.left + c.x, y: a.top + c.y, yBot: a.top + c.yBot} } function U() { var c = F.childNodes.length; if (c) return F.offsetHeight / c || 1; $.innerHTML = "<pre>x</pre>"; return $.firstChild.offsetHeight || 1 } function za(c, a) {
            var b = Ma(v, true), d, e; try { d = c.clientX, e = c.clientY } catch (f) { return null } if (!a && (d -
b.left > v.clientWidth || e - b.top > v.clientHeight)) return null; b = Ma(D, true); e = E + Math.floor((e - b.top) / U()); return x({ line: e, ch: Bb(ia(e), d - b.left) })
        } function Db(c) {
            function a() { var c = da(y.value).join("\n"); c != e && u(Da)(c, "end"); ya.style.position = "relative"; y.style.cssText = d; ua = false; ka(); O() } var b = za(c); if (b && !window.opera) {
                (A(k, q) || J(b, k) || !J(b, q)) && u(ha)(b.line, b.ch); var d = y.style.cssText; ya.style.position = "absolute"; y.style.cssText = "position: fixed; width: 30px; height: 30px; top: " + (c.clientY - 5) + "px; left: " +
(c.clientX - 5) + "px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);"; ua = true; var e = y.value = ca(); Ga(); xa(y, 0, y.value.length); if (db) { Na(c); var f = z(window, "mouseup", function () { f(); setTimeout(a, 20) }, true) } else setTimeout(a, 50)
            } 
        } function nb() { clearInterval(Ua); var c = true; Z.style.visibility = ""; Ua = setInterval(function () { Z.style.visibility = (c = !c) ? "" : "hidden" }, 650) } function Eb(c) {
            function a(c, b, g) {
                if (c.text) for (var d = c.styles, c = h ? 0 :
c.text.length - 1, e, m = h ? 0 : d.length - 2, f = h ? d.length : -2; m != f; m += 2 * j) { var l = d[m]; if (d[m + 1] != null && d[m + 1] != n) c += j * l.length; else for (var i = h ? 0 : l.length - 1, r = h ? l.length : -1; i != r; i += j, c += j) if (c >= b && c < g && v.test(e = l.charAt(i))) { var s = eb[e]; if (s.charAt(1) == ">" == h) p.push(e); else if (p.pop() != s.charAt(0)) return { pos: c, match: false }; else if (!p.length) return { pos: c, match: true} } } 
            } var b = N ? k : q, d = i[b.line], e = b.ch - 1, f = e >= 0 && eb[d.text.charAt(e)] || eb[d.text.charAt(++e)]; if (f) {
                f.charAt(0); for (var h = f.charAt(1) == ">", j = h ? 1 : -1, r =
d.styles, l = e + 1, f = 0, o = r.length; f < o; f += 2) if ((l -= r[f].length) <= 0) { var n = r[f + 1]; break } for (var p = [d.text.charAt(e)], v = /[(){}[\]]/, f = b.line, o = h ? Math.min(f + 100, i.length) : Math.max(-1, f - 100); f != o; f += j) { var d = i[f], x = f == b.line; if (x = a(d, x && h ? e + 1 : 0, x && !h ? e : d.text.length)) break } x || (x = { pos: null, match: false }); var n = x.match ? "CodeMirror-matchingbracket" : "CodeMirror-nonmatchingbracket", w = cb({ line: b.line, ch: e }, { line: b.line, ch: e + 1 }, n), y = x.pos != null ? cb({ line: f, ch: x.pos }, { line: f, ch: x.pos + 1 }, n) : function () { }, b = u(function () {
    w();
    y()
}); c ? setTimeout(b, 800) : Oa = b
            } 
        } function Fb(c) { var a, b, d = c; for (c -= 40; d > c; --d) { if (d == 0) return 0; var e = i[d - 1]; if (e.stateAfter) return d; e = e.indentation(); if (b == null || a > e) b = d - 1, a = e } return b } function Ca(c) { for (var a = Fb(c), b = a && i[a - 1].stateAfter, b = b ? na(C, b) : fb(C); a < c; ++a) { var d = i[a]; d.highlight(C, b); d.stateAfter = na(C, b) } c < i.length && !i[c].stateAfter && X.push(c); return b } function Ob() {
            for (var c = +new Date + o.workTime, a = X.length; X.length; ) {
                var b = i[E].stateAfter ? X.pop() : E; if (!(b >= i.length)) {
                    for (var d = Fb(b), e =
d && i[d - 1].stateAfter, e = e ? na(C, e) : fb(C), f = 0, h = C.compareStates, j = false, r = i.length; d < r; ++d) { var l = i[d], k = l.stateAfter; if (+new Date > c) { X.push(d); Va(o.workDelay); j && I.push({ from: b, to: d + 1 }); return } var n = l.highlight(C, e); n && (j = true); l.stateAfter = na(C, e); if (h) { if (k && h(k, e)) break } else if (n !== false || !k) f = 0; else if (++f > 3) break } j && I.push({ from: b, to: d + 1 })
                } 
            } if (a && o.onHighlightComplete) o.onHighlightComplete(G)
        } function Va(c) { X.length && Pb.set(c, u(Ob)) } function Za() { Q = null; I = []; Wa = ba = false } function $a() {
            var c = false;
            ba && (c = !sb()); I.length ? Ha(I) : (ba && yb(), fa && wb()); c && sb(); ba && (kb(), nb()); T && !ua && (Q === true || Q !== false && ba) && ka(); ba && o.matchBrackets && setTimeout(u(function () { Oa && (Oa(), Oa = null); Eb(false) }), 20); c = Wa; if (ba && o.onCursorActivity) o.onCursorActivity(G); if (c && o.onChange && G) o.onChange(G, c)
        } function u(c) { return function () { Gb++ || Za(); try { var a = c.apply(this, arguments) } finally { --Gb || $a() } return a } } function Hb(c, a, b) {
            this.atOccurrence = false; b == null && (b = typeof c == "string" && c == c.toLowerCase()); a = a && typeof a == "object" ?
x(a) : { line: 0, ch: 0 }; this.pos = { from: a, to: a }; if (typeof c != "string") this.matches = function (a, b) { if (a) for (var g = i[b.line].text.slice(0, b.ch), d = g.match(c), e = 0; d; ) { var f = g.indexOf(d[0]); e += f; g = g.slice(f + 1); if (f = g.match(c)) d = f; else break; e++ } else g = i[b.line].text.slice(b.ch), e = (d = g.match(c)) && b.ch + g.indexOf(d[0]); if (d) return { from: { line: b.line, ch: e }, to: { line: b.line, ch: e + d[0].length }, match: d} }; else {
                b && (c = c.toLowerCase()); var d = b ? function (c) { return c.toLowerCase() } : function (c) { return c }, e = c.split("\n"); this.matches =
e.length == 1 ? function (a, b) { var g = d(i[b.line].text), e = c.length, f; if (a ? b.ch >= e && (f = g.lastIndexOf(c, b.ch - e)) != -1 : (f = g.indexOf(c, b.ch)) != -1) return { from: { line: b.line, ch: f }, to: { line: b.line, ch: f + e}} } : function (c, a) {
    var b = a.line, g = c ? e.length - 1 : 0, f = e[g], m = d(i[b].text), k = c ? m.indexOf(f) + f.length : m.lastIndexOf(f); if (!(c ? k >= a.ch || k != f.length : k <= a.ch || k != m.length - f.length)) for (; ; ) {
        if (c ? !b : b == i.length - 1) break; m = d(i[b += c ? -1 : 1].text); f = e[c ? --g : ++g]; if (g > 0 && g < e.length - 1) if (m != f) break; else continue; g = c ? m.lastIndexOf(f) :
m.indexOf(f) + f.length; if (c ? g != m.length - f.length : g != f.length) break; f = { line: a.line, ch: k }; b = { line: b, ch: g }; return { from: c ? b : f, to: c ? f : b}
    } 
} 
            } 
        } var o = {}, gb = w.defaults, Aa; for (Aa in gb) gb.hasOwnProperty(Aa) && (o[Aa] = (b && b.hasOwnProperty(Aa) ? b : gb)[Aa]); var ga = o.document, M = ga.createElement("div"); M.className = "CodeMirror"; M.innerHTML = '<div style="overflow: hidden; position: relative; width: 1px; height: 0px;"><textarea style="position: absolute; width: 2px;" wrap="off" autocorrect="off" autocapitalize="off"></textarea></div><div class="CodeMirror-scroll cm-s-' +
o.theme + '"><div style="position: relative"><div style="position: absolute; height: 0; width: 0; overflow: hidden;"></div><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative" draggable="true"><pre class="CodeMirror-cursor">&#160;</pre><div></div></div></div></div></div></div>'; a.appendChild ? a.appendChild(M) : a(M); var ya = M.firstChild, y = ya.firstChild, v = M.lastChild, S = v.firstChild, $ = S.firstChild,
Ia = $.nextSibling, V = Ia.firstChild, Ja = V.firstChild, D = V.nextSibling.firstChild, Z = D.firstChild, F = Z.nextSibling; if (o.tabindex != null) y.tabindex = o.tabindex; if (!o.gutter && !o.lineNumbers) V.style.display = "none"; var Ya = new hb, Pb = new hb, Ua, C, i = [new wa("")], X, P = new Ta, T; Ab(); k = { line: 0, ch: 0 }; q = { line: 0, ch: 0 }; N = false; var W, ea, Ib, Jb, Q, I, Wa, ba, ua, fa, E = 0, aa = 0, vb = 0, Ba = null, Oa, va = "", ma; u(function () { mb(o.value || ""); Q = false })(); z(v, "mousedown", u(function (c) {
    function a(c) {
        var b = za(c, true); if (b && !A(b, e)) {
            T || la(); e = b; ra(d,
b); Q = false; var m = ub(); if (b.line >= m.to || b.line < m.from) f = setTimeout(u(function () { a(c) }), 150)
        } 
    } for (var b = c.target || c.srcElement; b != M; b = b.parentNode) if (b.parentNode == S && b != Ia) return; for (b = c.target || c.srcElement; b != M; b = b.parentNode) if (b.parentNode == Ja) { if (o.onGutterClick) o.onGutterClick(G, La(Ja.childNodes, b) + E, c); return B(c) } var d = za(c); switch (Qb(c)) { case 3: db && !ib && Db(c); return; case 2: d && ha(d.line, d.ch, true); return } if (d) {
        T || la(); b = +new Date; if (Jb > b - 400) return B(c), Lb(d.line); else if (Ib > b - 400) return Jb =
b, B(c), lb(d); else Ib = b; var e = d, f; if (!Rb || A(k, q) || J(d, k) || J(q, d)) { B(c); ha(d.line, d.ch, true); var h = z(ga, "mousemove", u(function (c) { clearTimeout(f); B(c); a(c) }), true), i = z(ga, "mouseup", u(function (c) { clearTimeout(f); var a = za(c); a && ra(d, a); B(c); Ga(); Q = true; h(); i() }), true) } 
    } else (c.target || c.srcElement) == v && B(c)
})); z(D, "dragstart", function (c) { var a = ca(); Pa(a); c.dataTransfer.setDragImage(Qa, 0, 0); c.dataTransfer.setData("Text", a) }); db || z(v, "contextmenu", Db); z(v, "scroll", function () {
    Ha([]); if (o.fixedGutter) V.style.left =
v.scrollLeft + "px"; if (o.onScroll) o.onScroll(G)
}); z(window, "resize", function () { Ha(true) }); z(y, "keyup", u(function (c) { if (!o.onKeyEvent || !o.onKeyEvent(G, jb(c))) ea && (ea = null, Q = true), c.keyCode == 16 && (W = null) })); z(y, "keydown", u(function (c) {
    T || la(); var a = c.keyCode; if (Sb && a == 27) c.returnValue = false; var b = (ib ? c.metaKey : c.ctrlKey) && !c.altKey, d = c.ctrlKey || c.altKey || c.metaKey; W = a == 16 || c.shiftKey ? W || (N ? q : k) : null; if (!o.onKeyEvent || !o.onKeyEvent(G, jb(c))) {
        if (a == 33 || a == 34) return b = a == 34, a = Math.floor(v.clientHeight / U()),
d = N ? k : q, ha(d.line + Math.max(a - 1, 1) * (b ? 1 : -1), d.ch, true), B(c); if (b && (a == 36 || a == 35 || ib && (a == 38 || a == 40))) return b = a == 36 || a == 38 ? { line: 0, ch: 0} : { line: i.length - 1, ch: i[i.length - 1].text.length }, ra(b, b), B(c); if (b && a == 65) return b = i.length - 1, oa({ line: 0, ch: 0 }, { line: b, ch: i[b].text.length }), B(c); if (!o.readOnly) { if (!d && a == 13) return; if (!d && a == 9 && Mb(c.shiftKey)) return B(c); if (b && a == 90) return H(), B(c); if (b && (c.shiftKey && a == 90 || a == 89)) return qb(), B(c) } if (a == 36 && o.smartHome) return b = Math.max(0, i[k.line].text.search(/\S/)),
ha(k.line, k.ch <= b && k.ch ? 0 : b, true), B(c); Ba = (b ? "c" : "") + (c.altKey ? "a" : "") + a; if (N && qa[Ba] === true && (a = Ea(y))) ea = { anchor: a.start }, xa(y, a.start, a.start); !b && !c.altKey && (Ba = null); pa(Ba)
    } 
})); z(y, "keypress", u(function (c) {
    if (!o.onKeyEvent || !o.onKeyEvent(G, jb(c))) {
        if (o.electricChars && C.electricChars) { var a = String.fromCharCode(c.charCode == null ? c.keyCode : c.charCode); C.electricChars.indexOf(a) > -1 && setTimeout(u(function () { sa(q.line, "smart") }), 50) } a = c.keyCode; a == 13 ? (o.readOnly || (Da("\n", "end"), o.enterMode != "flat" &&
sa(k.line, o.enterMode == "keep" ? "prev" : "smart")), B(c)) : !c.ctrlKey && !c.altKey && !c.metaKey && a == 9 && o.tabMode != "default" ? B(c) : pa(Ba)
    } 
})); z(y, "focus", la); z(y, "blur", K); z(v, "dragenter", Na); z(v, "dragover", Na); z(v, "drop", u(function (c) {
    c.preventDefault(); var a = za(c, true), b = c.dataTransfer.files; if (a && !o.readOnly) if (b && b.length && window.FileReader && window.File) for (var c = function (c, b) { var h = new FileReader; h.onload = function () { e[b] = h.result; ++f == d && Y(e.join(""), x(a), x(a)) }; h.readAsText(c) }, d = b.length, e = Array(d), f =
0, h = 0; h < d; ++h) c(b[h], h); else try { (e = c.dataTransfer.getData("Text")) && Y(e, a, a) } catch (i) { } 
})); z(v, "paste", function () { Ga(); pa() }); z(y, "paste", function () { pa() }); z(y, "cut", function () { pa() }); var Kb; try { Kb = ga.activeElement == y } catch (Tb) { } Kb ? setTimeout(la, 20) : K(); var G = M.CodeMirror = { getValue: function () { for (var c = [], a = 0, b = i.length; a < b; ++a) c.push(i[a].text); return c.join("\n") }, setValue: u(mb), getSelection: ca, replaceSelection: u(Da), focus: function () { Ga(); la(); pa() }, setOption: function (c, a) {
    o[c] = a; if (c == "lineNumbers" ||
c == "gutter" || c == "firstLineNumber") u(Nb)(); else if (c == "mode" || c == "indentUnit") Ab(); else if (c == "readOnly" && a == "nocursor") y.blur(); else if (c == "theme") v.className = v.className.replace(/cm-s-\w+/, "cm-s-" + a)
}, getOption: function (c) { return o[c] }, undo: u(H), redo: u(qb), indentLine: u(function (c, a) { c >= 0 && c < i.length && sa(c, a == null ? "smart" : a ? "add" : "subtract") }), historySize: function () { return { undo: P.done.length, redo: P.undone.length} }, matchBrackets: u(function () { Eb(true) }), getTokenAt: function (c) {
    c = x(c); return i[c.line].getTokenAt(C,
Ca(c.line), c.ch)
}, getStateAfter: function (c) { c = ia(c == null ? i.length - 1 : c); return Ca(c + 1) }, cursorCoords: function (c) { c == null && (c = N); return Cb(c ? k : q) }, charCoords: function (c) { return Cb(x(c)) }, coordsChar: function (c) { var a = Ma(D), b = ia(Math.min(i.length - 1, E + Math.floor((c.y - a.top) / U()))); return x({ line: b, ch: Bb(ia(b), c.x - a.left) }) }, getSearchCursor: function (c, a, b) { return new Hb(c, a, b) }, markText: u(function (c, a, b) { return u(cb(c, a, b)) }), setMarker: u(function (c, a, b) {
    typeof c == "number" && (c = i[ia(c)]); c.gutterMarker = { text: a,
        style: b
    }; fa = true; return c
}), clearMarker: u(function (c) { typeof c == "number" && (c = i[ia(c)]); c.gutterMarker = null; fa = true }), setLineClass: u(function (c, a) { if (typeof c == "number") var b = c, c = i[ia(c)]; else if (b = La(i, c), b == -1) return null; if (c.className != a) c.className = a, I.push({ from: b, to: b + 1 }); return c }), lineInfo: function (c) { if (typeof c == "number") { var a = c, c = i[c]; if (!c) return null } else if (a = La(i, c), a == -1) return null; var b = c.gutterMarker; return { line: a, text: c.text, markerText: b && b.text, markerClass: b && b.style} }, addWidget: function (a,
b, d, e, f) {
    var a = ab(x(a)), k = a.yBot, h = a.x; b.style.position = "absolute"; S.appendChild(b); if (e == "over") k = a.y; else if (e == "near") { var e = Math.max(v.offsetHeight, i.length * U()), j = Math.max(S.clientWidth, D.clientWidth) - D.offsetLeft; a.yBot + b.offsetHeight > e && a.y > b.offsetHeight && (k = a.y - b.offsetHeight); h + b.offsetWidth > j && (h = j - b.offsetWidth) } b.style.top = k + D.offsetTop + "px"; b.style.left = b.style.right = ""; f == "right" ? (h = S.clientWidth - b.offsetWidth, b.style.right = "0px") : (f == "left" ? h = 0 : f == "middle" && (h = (S.clientWidth - b.offsetWidth) /
2), b.style.left = h + D.offsetLeft + "px"); d && tb(h, k, h + b.offsetWidth, k + b.offsetHeight)
}, lineCount: function () { return i.length }, getCursor: function (a) { a == null && (a = N); return { line: (a ? k : q).line, ch: (a ? k : q).ch} }, somethingSelected: function () { return !A(k, q) }, setCursor: u(function (a, b) { b == null && typeof a.line == "number" ? ha(a.line, a.ch) : ha(a, b) }), setSelection: u(function (a, b) { oa(x(a), x(b || a)) }), getLine: function (a) { if (a >= 0 && a < i.length) return i[a].text }, setLine: u(function (a, b) {
    a >= 0 && a < i.length && Y(b, { line: a, ch: 0 }, { line: a,
        ch: i[a].text.length
    })
}), removeLine: u(function (a) { a >= 0 && a < i.length && Y("", { line: a, ch: 0 }, x({ line: a + 1, ch: 0 })) }), replaceRange: u(Y), getRange: function (a, b) { return ja(x(a), x(b)) }, operation: function (a) { return u(a)() }, refresh: function () { Ha(true) }, getInputField: function () { return y }, getWrapperElement: function () { return M }, getScrollerElement: function () { return v }, getGutterElement: function () { return V } 
}, Xa = false, eb = { "(": ")>", ")": "(<", "[": "]>", "]": "[<", "{": "}>", "}": "{<" }, Gb = 0; Hb.prototype = { findNext: function () { return this.find(false) },
    findPrevious: function () { return this.find(true) }, find: function (a) { function b(a) { a = { line: a, ch: 0 }; d.pos = { from: a, to: a }; return d.atOccurrence = false } for (var d = this, e = x(a ? this.pos.from : this.pos.to); ; ) { if (this.pos = this.matches(a, e)) return this.atOccurrence = true, this.pos.match || true; if (a) { if (!e.line) return b(0); e = { line: e.line - 1, ch: i[e.line - 1].text.length} } else { if (e.line == i.length - 1) return b(i.length); e = { line: e.line + 1, ch: 0} } } }, from: function () { if (this.atOccurrence) return { line: this.pos.from.line, ch: this.pos.from.ch} },
    to: function () { if (this.atOccurrence) return { line: this.pos.to.line, ch: this.pos.to.ch} }, replace: function (a) { var b = this; this.atOccurrence && u(function () { b.pos.to = Y(a, b.pos.from, b.pos.to) })() } 
}; for (var Ra in Sa) Sa.propertyIsEnumerable(Ra) && !G.propertyIsEnumerable(Ra) && (G[Ra] = Sa[Ra]); return G
    } function na(a, b) { if (b === true) return b; if (a.copyState) return a.copyState(b); var e = {}, d; for (d in b) { var f = b[d]; f instanceof Array && (f = f.concat([])); e[d] = f } return e } function fb(a, b, e) {
        return a.startState ? a.startState(b,
e) : true
    } function ja(a) { this.pos = this.start = 0; this.string = a } function wa(a, b) { this.styles = b || [a, null]; this.stateAfter = null; this.text = a; this.marked = this.gutterMarker = this.className = null } function ta(a, b, e, d) { for (var f = 0, n = 0, p = 0; n < b; f += 2) { var k = e[f], q = n + k.length; p == 0 ? (q > a && d.push(k.slice(a - n, Math.min(k.length, b - n)), e[f + 1]), q >= a && (p = 1)) : p == 1 && (q > b ? d.push(k.slice(0, b - n), e[f + 1]) : d.push(k, e[f + 1])); n = q } } function Ta() { this.time = 0; this.done = []; this.undone = [] } function kb() { Na(this) } function jb(a) {
        if (!a.stop) a.stop =
kb; return a
    } function B(a) { a.preventDefault ? a.preventDefault() : a.returnValue = false } function Na(a) { B(a); a.stopPropagation ? a.stopPropagation() : a.cancelBubble = true } function Qb(a) { if (a.which) return a.which; else if (a.button & 1) return 1; else if (a.button & 2) return 3; else if (a.button & 4) return 2 } function z(a, b, e, d) {
        function f(a) { e(a || window.event) } if (typeof a.addEventListener == "function") { if (a.addEventListener(b, f, false), d) return function () { a.removeEventListener(b, f, false) } } else if (a.attachEvent("on" + b, f), d) return function () {
            a.detachEvent("on" +
b, f)
        } 
    } function hb() { this.id = null } function ka(a, b) { if (b == null && (b = a.search(/[^\s\u00a0]/), b == -1)) b = a.length; for (var e = 0, d = 0; e < b; ++e) a.charAt(e) == "\t" ? d += Ka - d % Ka : ++d; return d } function Ma(a, b) {
        for (var e = a.ownerDocument.body, d = 0, f = 0, n = false, p = a; p; p = p.offsetParent) d += p.offsetLeft, f += p.offsetTop, b && (p.currentStyle ? p.currentStyle : window.getComputedStyle(p, null)).position == "fixed" && (n = true); e = b && !n ? null : e; for (p = a.parentNode; p != e; p = p.parentNode) p.scrollLeft != null && (d -= p.scrollLeft, f -= p.scrollTop); return { left: d,
            top: f
        }
    } function A(a, b) { return a.line == b.line && a.ch == b.ch } function J(a, b) { return a.line < b.line || a.line == b.line && a.ch < b.ch } function Pa(a) { Qa.innerText = Qa.textContent = a; return Qa.innerHTML } function La(a, b) { if (a.indexOf) return a.indexOf(b); for (var e = 0, d = a.length; e < d; ++e) if (a[e] == b) return e; return -1 } w.defaults = { value: "", mode: null, theme: "default", indentUnit: 2, indentWithTabs: false, tabMode: "classic", enterMode: "indent", electricChars: true, onKeyEvent: null, lineNumbers: false, gutter: false, fixedGutter: false, firstLineNumber: 1,
        readOnly: false, smartHome: true, onChange: null, onCursorActivity: null, onGutterClick: null, onHighlightComplete: null, onFocus: null, onBlur: null, onScroll: null, matchBrackets: false, workTime: 100, workDelay: 200, undoDepth: 40, tabindex: null, document: window.document
    }; var ca = {}, K = {}; w.defineMode = function (a, b) { if (!w.defaults.mode && a != "null") w.defaults.mode = a; ca[a] = b }; w.defineMIME = function (a, b) { K[a] = b }; w.getMode = function (a, b) {
        typeof b == "string" && K.hasOwnProperty(b) && (b = K[b]); if (typeof b == "string") var e = b, d = {}; else if (b !=
null) e = b.name, d = b; var f = ca[e]; return !f ? (window.console && console.warn("No mode " + e + " found, falling back to plain text."), w.getMode(a, "text/plain")) : f(a, d || {})
    }; w.listModes = function () { var a = [], b; for (b in ca) ca.propertyIsEnumerable(b) && a.push(b); return a }; w.listMIMEs = function () { var a = [], b; for (b in K) K.propertyIsEnumerable(b) && a.push({ mime: b, mode: K[b] }); return a }; var Sa = {}; w.defineExtension = function (a, b) { Sa[a] = b }; w.fromTextArea = function (a, b) {
        function e() { a.value = p.getValue() } b || (b = {}); b.value = a.value;
        if (!b.tabindex && a.tabindex) b.tabindex = a.tabindex; if (a.form) { var d = z(a.form, "submit", e, true); if (typeof a.form.submit == "function") { var f = a.form.submit, n = function () { e(); a.form.submit = f; a.form.submit(); a.form.submit = n }; a.form.submit = n } } a.style.display = "none"; var p = w(function (b) { a.parentNode.insertBefore(b, a.nextSibling) }, b); p.save = e; p.toTextArea = function () { e(); a.parentNode.removeChild(p.getWrapperElement()); a.style.display = ""; if (a.form && (d(), typeof a.form.submit == "function")) a.form.submit = f }; return p
    };
    w.startState = fb; w.copyState = na; ja.prototype = { eol: function () { return this.pos >= this.string.length }, sol: function () { return this.pos == 0 }, peek: function () { return this.string.charAt(this.pos) }, next: function () { if (this.pos < this.string.length) return this.string.charAt(this.pos++) }, eat: function (a) { var b = this.string.charAt(this.pos); if (typeof a == "string" ? b == a : b && (a.test ? a.test(b) : a(b))) return ++this.pos, b }, eatWhile: function (a) { for (var b = this.pos; this.eat(a); ); return this.pos > b }, eatSpace: function () {
        for (var a = this.pos; /[\s\u00a0]/.test(this.string.charAt(this.pos)); ) ++this.pos;
        return this.pos > a
    }, skipToEnd: function () { this.pos = this.string.length }, skipTo: function (a) { a = this.string.indexOf(a, this.pos); if (a > -1) return this.pos = a, true }, backUp: function (a) { this.pos -= a }, column: function () { return ka(this.string, this.start) }, indentation: function () { return ka(this.string) }, match: function (a, b, e) {
        if (typeof a == "string") { if ((e ? this.string.toLowerCase() : this.string).indexOf(e ? a.toLowerCase() : a, this.pos) == this.pos) return b !== false && (this.pos += a.length), true } else return (a = this.string.slice(this.pos).match(a)) &&
b !== false && (this.pos += a[0].length), a
    }, current: function () { return this.string.slice(this.start, this.pos) } 
    }; w.StringStream = ja; wa.prototype = { replace: function (a, b, e) {
        var d = [], f = this.marked; ta(0, a, this.styles, d); e && d.push(e, null); ta(b, this.text.length, this.styles, d); this.styles = d; this.text = this.text.slice(0, a) + e + this.text.slice(b); this.stateAfter = null; if (f) {
            a = e.length - (b - a); e = this.text.length; for (d = 0; d < f.length; ++d) {
                var n = f[d], p = false; if (n.from >= e) p = true; else if (n.from = n.from <= Math.min(b, b + a) ? n.from : n.from +
a, n.to != null) n.to = n.to <= Math.min(b, b + a) ? n.to : n.to + a; if (p || n.from >= n.to) f.splice(d, 1), d--
            } 
        } 
    }, split: function (a, b) { var e = [b, null]; ta(a, this.text.length, this.styles, e); return new wa(b + this.text.slice(a), e) }, addMark: function (a, b, e) { a = { from: a, to: b, style: e }; if (this.marked == null) this.marked = []; this.marked.push(a); this.marked.sort(function (a, b) { return a.from - b.from }); return a }, removeMark: function (a) { var b = this.marked; if (b) for (var e = 0; e < b.length; ++e) if (b[e] == a) { b.splice(e, 1); break } }, highlight: function (a, b) {
        var e =
new ja(this.text), d = this.styles, f = 0, n = false, p = d[0], k; for (this.text == "" && a.blankLine && a.blankLine(b); !e.eol(); ) { var q = a.token(e, b), w = this.text.slice(e.start, e.pos); e.start = e.pos; if (f && d[f - 1] == q) d[f - 2] += w; else if (w) { if (!n && (d[f + 1] != q || f && d[f - 2] != k)) n = true; d[f++] = w; d[f++] = q; k = p; p = d[f] } if (e.pos > 5E3) { d[f++] = this.text.slice(e.pos); d[f++] = null; break } } if (d.length != f) d.length = f, n = true; f && d[f - 2] != k && (n = true); return n || (d.length < 5 && this.text.length < 10 ? null : false)
    }, getTokenAt: function (a, b, e) {
        for (var d = new ja(this.text); d.pos <
e && !d.eol(); ) { d.start = d.pos; var f = a.token(d, b) } return { start: d.start, end: d.pos, string: d.current(), className: f || null, state: b}
    }, indentation: function () { return ka(this.text) }, getHTML: function (a, b, e, d) {
        function f(a, b) { a && (b ? n.push('<span class="', b, '">', Pa(a), "</span>") : n.push(Pa(a))) } var n = []; e && n.push(this.className ? '<pre class="' + this.className + '">' : "<pre>"); var p = this.styles, k = this.text, q = this.marked; a == b && (a = null); var w = k.length; d != null && (w = Math.min(d, w)); if (!k && d == null) f(" ", a != null && b == null ? "CodeMirror-selected" :
null); else if (!q && a == null) for (a = d = 0; a < w; d += 2) { var b = p[d], z = b.length; a + z > w && (b = b.slice(0, w - a)); a += z; f(b, "cm-" + p[d + 1]) } else {
            var d = k = 0, A = "", B = -1, L = null, J = function () { q && (B += 1, L = B < q.length ? q[B] : null) }; for (J(); k < w; ) {
                var H = w, K = ""; if (a != null) if (a > k) H = a; else if (b == null || b > k) K = " CodeMirror-selected", b != null && (H = Math.min(H, b)); for (; L && L.to != null && L.to <= k; ) J(); L && (L.from > k ? H = Math.min(H, L.from) : (K += " " + L.style, L.to != null && (H = Math.min(H, L.to)))); for (; ; ) {
                    var O = k + A.length, Y = z; K && (Y = z ? z + K : K); f(O > H ? A.slice(0, H - k) :
A, Y); if (O >= H) { A = A.slice(H - k); k = H; break } k = O; A = p[d++]; z = "cm-" + p[d++]
                } 
            } a != null && b == null && f(" ", "CodeMirror-selected")
        } e && n.push("</pre>"); return n.join("")
    } 
    }; Ta.prototype = { addChange: function (a, b, e) {
        this.undone.length = 0; var d = +new Date, f = this.done[this.done.length - 1]; if (d - this.time > 400 || !f || f.start > a + b || f.start + f.added < a - f.added + f.old.length) this.done.push({ start: a, added: b, old: e }); else {
            var n = 0; if (a < f.start) { for (var p = f.start - a - 1; p >= 0; --p) f.old.unshift(e[p]); f.added += f.start - a; f.start = a } else f.start < a &&
(n = a - f.start, b += n); p = f.added - n; for (a = e.length; p < a; ++p) f.old.push(e[p]); if (f.added < b) f.added = b
        } this.time = d
    } 
    }; hb.prototype = { set: function (a, b) { clearTimeout(this.id); this.id = setTimeout(b, a) } }; var bb = function () { var a = document.createElement("pre"); a.innerHTML = " "; return !a.innerHTML } (), Rb = function () { if (/MSIE [1-8]\b/.test(navigator.userAgent)) return false; var a = document.createElement("div"); return "ondragstart" in a && "ondrop" in a } (), db = /gecko\/\d{7}/i.test(navigator.userAgent), Sb = /MSIE \d/.test(navigator.userAgent),
lb = /Apple Computer/.test(navigator.vendor), Fa = "\n"; (function () { var a = document.createElement("textarea"); a.value = "foo\nbar"; a.value.indexOf("\r") > -1 && (Fa = "\r\n") })(); for (var Ka = 8, ib = /Mac/.test(navigator.platform), qa = {}, O = 35; O <= 40; ++O) qa[O] = qa["c" + O] = true; var Qa = document.createElement("div"); w.htmlEscape = Pa; var da, Ea, xa; da = "\n\nb".split(/\n/).length != 3 ? function (a) { for (var b = 0, e, d = []; (e = a.indexOf("\n", b)) > -1; ) d.push(a.slice(b, a.charAt(e - 1) == "\r" ? e - 1 : e)), b = e + 1; d.push(a.slice(b)); return d } : function (a) { return a.split(/\r?\n/) };
    w.splitLines = da; window.getSelection ? (Ea = function (a) { try { return { start: a.selectionStart, end: a.selectionEnd} } catch (b) { return null } }, xa = lb ? function (a, b, e) { b == e ? a.setSelectionRange(b, e) : (a.setSelectionRange(b, e - 1), window.getSelection().modify("extend", "forward", "character")) } : function (a, b, e) { try { a.setSelectionRange(b, e) } catch (d) { } }) : (Ea = function (a) {
        try { var b = a.ownerDocument.selection.createRange() } catch (e) { return null } if (!b || b.parentElement() != a) return null; var d = a.value, f = d.length, n = a.createTextRange();
        n.moveToBookmark(b.getBookmark()); var p = a.createTextRange(); p.collapse(false); if (n.compareEndPoints("StartToEnd", p) > -1) return { start: f, end: f }; a = -n.moveStart("character", -f); for (b = d.indexOf("\r"); b > -1 && b < a; b = d.indexOf("\r", b + 1), a++); if (n.compareEndPoints("EndToEnd", p) > -1) return { start: a, end: f }; f = -n.moveEnd("character", -f); for (b = d.indexOf("\r"); b > -1 && b < f; b = d.indexOf("\r", b + 1), f++); return { start: a, end: f}
    }, xa = function (a, b, e) {
        var d = a.createTextRange(); d.collapse(true); for (var f = d.duplicate(), n = 0, a = a.value,
p = a.indexOf("\n"); p > -1 && p < b; p = a.indexOf("\n", p + 1)) ++n; for (d.move("character", b - n); p > -1 && p < e; p = a.indexOf("\n", p + 1)) ++n; f.move("character", e - n); d.setEndPoint("EndToEnd", f); d.select()
    }); w.defineMode("null", function () { return { token: function (a) { a.skipToEnd() } } }); w.defineMIME("text/plain", "null"); return w
} ();